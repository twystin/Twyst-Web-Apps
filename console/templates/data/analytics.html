<div class="row-fluid" ng-init="getMerchants()">
	<div>
		<div class="span2">
			<h3>Merchant</h3>
			<div class="date-div">
				<select ng-model="selected_merchant" class="span12">
	            	<option value="{{o._id}}" ng-repeat="o in merchants">{{o.username}}</option>
	        	</select>
			</div>
		</div>
		<div class="span2">
			<h3>City</h3>
			<div class="city-div" ng-hide="selected_merchant">
				No merchant selected
			</div>
			<div class="city-div" ng-show="selected_merchant">
		      <div class="row-fluid" ng-repeat="city in all_cities">
		        <input id="checkbox" type='checkbox' ng-checked="cities.indexOf(city) > -1" ng-click="toggleCity(city)"> {{city}}<br>
		      </div>
		  	</div>
		</div>
		<div class="span4">
			<h3>Outlets</h3>
			<div class="city-div">
		      <div class="row-fluid" ng-repeat="outlet in all_outlets track by $index">
		        <input id="checkbox" type='checkbox' ng-checked="outlets.indexOf(outlet._id) > -1" ng-click="toggleOutlet(outlet._id)"> {{outlet.basics.name}}, {{outlet.contact.location.locality_1.toString()}}<br>
		      </div>
		  	</div>
		</div>
		<div class="span4">
			<h3>Program</h3>
			<div class="date-div">
				<select ng-model="selected_program" class="span12">
	            	<option value="{{o._id}}" ng-repeat="o in programs">{{o.name}}</option>
	        	</select>
			</div>
		</div>
	</div>
	<div class="row-fluid">
		<div class="span3">
			<h3>Date range</h3>
			<div class="date-div span10" ng-hide="outlets.length > 0">
				No outlets selected
			</div>
			<div ng-controller="DatePickerCtrl" class="date-div span10" ng-show="outlets.length > 0">
			    <div class="form-horizontal">
			        <p>
			            <input id="appendedInput" type="text" class="input-small" datepicker-popup="{{format}}" is-open="opened" min="'2014-03-01'" max="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" placeholder="Start" type="date" style="margin:0px;" ng-model="range.start" />
			            <button class="btn" ng-click="open()"><i class="icon-calendar"></i></button>
			        </p>
			    </div>
			    <div class="form-horizontal">
			        <p>
			            <input id="appendedInput" type="text" class="input-small" datepicker-popup="{{format}}" is-open="opened" min="'2014-03-05'" max="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" placeholder="End" type="date" style="margin:0px;" ng-model="range.end" />
			            <button class="btn" ng-click="open()"><i class="icon-calendar"></i></button>
			        </p>
			    </div>
			</div>
		</div>
	</div>
</div>