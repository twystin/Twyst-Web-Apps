<div class="row-fluid" style="min-height:580px;" ng-init="outletQuery();readOne()">
    <div class="offset1 span10">
        <div class="lead" style="padding-top:30px;">
            <h2>Update Deal</h2>
        </div>
        
        <div class="row-fluid">
            &nbsp;
        </div>
        <div class="row-fluid">
            <div class="span2">
                <label>Title</label>
            </div>
            <div class="span10">
                <textarea ng-model="deal.detail"></textarea>
            </div>
        </div>
        <div class="row-fluid">
            &nbsp;
        </div>
        <div class="row-fluid">
            <div class="span2">
                <label>Description</label>
            </div>
            <div class="span10">
                <textarea ng-model="deal.info"></textarea>
            </div>
        </div>
        <div class="row-fluid">
            &nbsp;
        </div>
        <div class="row-fluid">
            <div class="span2">
                <label>Program running on Outlets</label>
            </div>
            <div class="span10">
                <span ng-repeat="fruit in all_outlets">
                    <input type='checkbox' ng-checked="deal.outlets.indexOf(fruit._id) != -1" ng-click="toggleOutlets(fruit._id)"> {{fruit.basics.name}}, {{fruit.contact.location.locality_1.toString()}}
                    <br>
                </span>
            </div>
        </div>
        
        
        <div class="row-fluid">
            <div class="span2">
                Validity
            </div>
            <div class="span10">
                <div class="row-fluid">
                    <div class="span4">
                        <label>Start date</label>
                        <div ng-controller="DatePickerCtrl">
                            <div class="form-horizontal">
                                <p>
                                    <input id="appendedInput" type="text" datepicker-popup="{{format}}" is-open="opened" min="minDate" max="'2020-01-01'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" placeholder="Start date" type="date" style="margin:0px;" ng-model="deal.start_date" />
                                    <button class="btn" ng-click="open()"><i class="icon-calendar"></i></button>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="span4">
                        <label>End date</label>
                        <div ng-controller="DatePickerCtrl">
                            <div class="form-horizontal">
                                <p>
                                    <input id="appendedInput" type="text" datepicker-popup="{{format}}" is-open="opened" min="minDate" max="'2020-01-01'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" placeholder="Start date" type="date" style="margin:0px;" ng-model="deal.end_date" />
                                    <button class="btn" ng-click="open()"><i class="icon-calendar"></i></button>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
        
        <div class="row-fluid">
            &nbsp;
        </div>
        <div class="row-fluid">
            <button class="btn btn-success btn-large" ng-click="update()">
                Update
            </button>
        </div>
    </div>
</div>