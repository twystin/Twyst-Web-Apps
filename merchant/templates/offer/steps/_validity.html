<div class="row">
  <div class="span7 info-header lead">
    <strong>Validity of the program</strong>
  </div>
  <div class="span5 preview-header lead">
    <strong>Preview Card</strong>
  </div>  
</div>
<form role="form" name="offer_basics" novalidate>
  <div class="row">
    <div class="span7 info-detail">
      <div>
        <div>
        Specify valid time period <small>(we recommend at least a 3-6 month period to start seeing result)</small>
        </div>
        <div>
          <div class="well">
            <div class="row-fluid">
              Earn period             
              <small>This is the period during which customer visits count towards earning the Rewards specified in this Program.</small>
            </div>
            <div class="row-fluid">
              <div class="row-fluid span6">
                <label>Start date</label>
                <div ng-controller="DatePickerCtrl">
                    <div class="form-horizontal">
                        <p>
                            <input id="appendedInput" type="text" datepicker-popup="{{format}}" is-open="opened" min="minDate" max="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" placeholder="Start date" type="date" style="margin:0px;" ng-model="program.validity.earn_start" />
                            <button class="btn" ng-click="open()"><i class="icon-calendar"></i></button>
                        </p>
                    </div>
                </div>
              </div>
              <div class="row-fluid span6" style="margin:0px">
                <label>End date</label>
                <div ng-controller="DatePickerCtrl">
                    <div class="form-horizontal">
                        <p>
                            <input id="appendedInput" type="text" datepicker-popup="{{format}}" is-open="opened" min="minDate" max="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" placeholder="End date" type="date" style="margin:0px" ng-model="program.validity.earn_end" />
                            <button class="btn" ng-click="open()"><i class="icon-calendar"></i></button>
                        </p>
                    </div>
                </div>
              </div>
            </div>
            <div class="error" ng-show="program.validity.earn_start>=program.validity.earn_end">
              Start date can not be less or equal to End date
            </div>
            </div>
          </div>
          <div class="well">
            <div class="row-fluid">
              <input type="checkbox" id="burn" ng-model="burn_check">Specify a different burn period            
              <small>This is the period during which rewards can be redeemed. Consider making this a little longer than the Earn Period to accommodate users who qualify for the Reward towards the end.</small>
            </div>
            <div class="row-fluid">              
              <div class="span6">
                <label>Start date</label>
                <div ng-controller="DatePickerCtrl">
                    <div class="form-horizontal">
                        <p>
                            <input id="burn_start" type="text" datepicker-popup="{{format}}" is-open="opened" min="minDate" max="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" ng-model="program.validity.burn_start" ng-disabled="!burn_check" name="burn_start"  placeholder="Start date"/>
                            <button class="btn" ng-click="open()" ng-disabled="!burn_check"><i class="icon-calendar"></i></button>
                        </p>
                    </div>
                </div>  
              </div>
              <div class="span6">
                <label>End date</label>
                <div ng-controller="DatePickerCtrl">
                    <div class="form-horizontal">
                        <p>
                            <input id="burn_end" type="text" datepicker-popup="{{format}}" is-open="opened" min="minDate" max="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close"
                            ng-model="program.validity.burn_end" ng-disabled="!burn_check" name="burn_end"  placeholder="End date" />
                            <button class="btn" ng-click="open()" ng-disabled="!burn_check"><i class="icon-calendar"></i></button>
                        </p>
                    </div>
                </div>
              </div>
            </div>
          </div>   
      </div>
      </div>       
    <div class="span5 preview-detail" ng-include="'/merchant/templates/offer/preview.html'"></div>
  </div>
  <div class="row well">
  <button class='btn btn-inverse' ng-click="tabs[2].active=true; clearOffer();"> < Back</button>
    <button class="btn btn-inverse" ng-disabled="!program.name || offer_basics.program.name.$dirty && offer_basics.program.name.$invalid" ng-click="tabs[4].active=true">Next ></button>
    <button ng-click="clear()" class="btn btn-warning">Clear</button>
  </div>  
</form>
