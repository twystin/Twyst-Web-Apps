<div class="container" style="margin-top: 1em;margin-left: -1em">
    <div class="col-md-12">
        <div class="col-md-10">
            <div class="col-md-4">
                <h5><b>Programs:</b> </h5>
                <span class="ui-select">
                    <select ng-init="selected.program = programs[0]" ng-model="selected.program" ng-options="program.name for program in programs"></select>
                </span>
            </div>
            <div class="col-md-4">
                <h5><b>Outlets: </b></h5>
                <span class="ui-select">
                    <select ng-model="selected.outlet" ng-options="(outlet.basics.name +', '+ outlet.contact.location.locality_1[0]) for outlet in outlets"></select>
                </span>
            </div>
            
        </div>
    </div>
    <div  class="col-md-6"  
        multi-select
        input-model="programs"
        output-model="selected.programs"
        button-label="name"
        item-label="icon name"
        tick-property="ticked"
        max-labels="0" >
    </div>
</div>
<div class="container">
    <div class="col-md-12" style="margin-top: 2em;">
        <div class="col-md-10">
            <section class="panel panel-default">
                <div class="panel-heading"><span class="glyphicon glyphicon-th"></span> Program Duration</div>
                <div class="panel-body">
                        <div class="col-md-2">
                            {{selected.program.validity.earn_start | date: 'mediumDate'}}
                        </div>
                        <div class="col-md-8">
                            <progressbar animate="false" value="percent" type="success"><b>{{percent}} %</b></progressbar>
                        </div>
                        <div class="col-md-2">
                            {{selected.program.validity.earn_end | date: 'mediumDate'}}
                        </div>
                </div>
            </section>      
            
        </div>
    </div>
</div>
<div class="container">
    <div class="col-md-12" style="margin-top: 2em;">
        <div class="col-md-5">
            <section class="panel panel-box info-box">
                <div class="panel-left panel-item bg-info">
                    <i class="fa fa-users text-large stat-icon"></i>
                </div>
                <div class="panel-right panel-item bg-reverse">
                    <p class="size-h1 no-margin">{{checkin_data.TOTAL_CHECKINS}}</p>
                    <p class="text-muted no-margin"><span data-i18n="Total checkins"></span></p>
                </div>
            </section>
        </div>
        <div class="col-md-5">
            <section class="panel panel-box info-box">
                <div class="panel-left panel-item bg-success">
                    <img src="./views/current_programs/twyst_icon_120.png" height="50%">
                </div>
                <div class="panel-right panel-item bg-reverse">
                    <p class="size-h1 no-margin">{{Math.round(checkin_data.TOTAL_CHECKINS / (dynamic / 7))}}<span class="size-h3"></span></p>
                    <p class="text-muted no-margin"><span data-i18n="Avg. weekly checkins"></span></p>
                </div>
            </section>
        </div>
    </div>
</div>
<div class="container">
    <div class="col-md-12" ng-if="checkin_data">
        <div class="col-md-12">
            <section class="panel panel-default">
                <div class="panel-heading"><span class="glyphicon glyphicon-th"></span> Check-in Trend</div>
                <div class="panel-body">
                    <div morris-chart
                         data-data="checkin_trend.data"
                         data-type="checkin_trend.type"
                         data-options="checkin_trend.options"
                         ></div>
                </div>
            </section>              
        </div>
    </div>
</div>
<div class="container">
    <div class="col-md-12" ng-if="checkin_data">
        <div class="col-md-12">
            <section class="panel panel-default">
                <div class="panel-heading"><span class="glyphicon glyphicon-th"></span> Check-ins by day of week</div>
                <div class="panel-body">
                    <div morris-chart
                         data-data="checkin_by_day_of_week.data"
                         data-type="checkin_by_day_of_week.type"
                         data-options="checkin_by_day_of_week.options"
                         ></div>
                </div>
            </section>            
        </div>
    </div>
    <div class="col-md-12" ng-if="checkin_data">
        <div class="col-md-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Checkin by type</h3>
                </div>
                <div class="panel-body">
                    <div data-flot-chart
                         data-data="checkin_by_type.data"
                         data-options="checkin_by_type.options"
                         style="width: 100%; height: 300px;"
                         ></div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Checkin by location</h3>
                </div>
                <div class="panel-body">
                    <div data-flot-chart
                         data-data="checkin_by_location.data"
                         data-options="checkin_by_location.options"
                         style="width: 100%; height: 300px;"
                         ></div>
                </div>
            </div>
        </div>
    </div>
</div>